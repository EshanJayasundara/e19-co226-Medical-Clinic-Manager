<!DOCTYPE html>
<html>
<head>
  <title>Lifecare WebApp</title>
  <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            font-size: 15px;
        }
        table, th, td {
            border: 1px solid #ccc;
            padding: 5px;
            margin-left: 20px
        }
        h2 {
            padding-top: 20px;
            padding-left: 20px;
        }
        header {
            background-color: #2C3E50;
            color: #fff;
            padding: 10px;
            text-align: left;
        }

        nav {
            background-color: #2c3e50;
            color: #fff;
            padding: 10px;
        }

        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        nav ul li {
            display: inline-block;
            margin-right: 20px;
        }

        nav ul li a {
            color: #fff;
            text-decoration: none;
            padding: 5px 10px;
        }

        nav ul li a:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body>
<header>
  <img src="/logo.png" style="height:70px;width:300px;">
</header>
<nav>
  <ul>
    <li><a href="http://localhost:8082/">Home</a></li>
    <li><a href="http://localhost:8082/appointments">Appointments</a></li>
    <li><a href="http://localhost:8082/patientsDetails">Patients</a></li>
    <li><a href="http://localhost:8082/medical_records">Medical Records</a></li>
    <!-- Add more navigation links as needed -->
  </ul>
</nav>
<h2>Patients' Details</h2>
<table id="patientTable">
  <tr>
    <th>First Name</th>
    <th>Last Name</th>
    <th>NIC</th>
    <th>Address</th>
    <th>Contact</th>
    <th>Date of Birth</th>
    <th>Validity of the Insurance</th>
    <th>Patient Id</th>
  </tr>
</table>

<script>
        // Function to fetch JSON data and populate the patient table
        async function fetchPatientData() {
            try {
                const response = await fetch('http://localhost:8082/patients'); // Replace with your JSON endpoint URL
                const patientData = await response.json();

                // Get the table element to populate patient data
                const table = document.getElementById('patientTable');

                // Iterate over the array of patients and create table rows
                patientData.forEach(patient => {
                    const row = table.insertRow();

                    const firstNameCell = row.insertCell();
                    const lastNameCell = row.insertCell();
                    const nicCell = row.insertCell();
                    const addressCell = row.insertCell();
                    const contactCell = row.insertCell();
                    const dobCell = row.insertCell();
                    const insuranceCell = row.insertCell();
                    const patientIdCell = row.insertCell();

                    firstNameCell.innerText = patient.fname;
                    lastNameCell.innerText = patient.lname;
                    nicCell.innerText = patient.nic;
                    addressCell.innerText = patient.address;
                    contactCell.innerText = patient.contact;
                    dobCell.innerText = patient.dob;
                    insuranceCell.innerText = patient.insuranceDetails;
                    patientIdCell.innerText = patient.patientid;
                });
            } catch (error) {
                console.error('Error fetching patient data:', error);
            }
        }

        // Call the fetchPatientData function when the page is loaded
        window.onload = fetchPatientData;
    </script>
</body>
</html>
